<html>
  <head>
    <meta charset="utf-8">
    <title>w3term - Javascript Terminal</title>
    <link rel="stylesheet" href="terminal.css" type="text/css"/>
    <!-- <script src="jquery.js"></script> -->
    <script
        src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js">
    </script>
    <script src="terminal.js"></script>

    <style type="text/css">
    body{
        max-width: 600px;
        margin: 1em auto;
        font-family: Calibri, Candara, Segoe, "Segoe UI", Optima, Arial, sans-serif;
        background-color: #333;
        color: #ffffff;
        text-align: justify;
    }

    code
    {
        font-family: monospace;
        font-style: normal;
    }
    </style>

  </head>
  <body>
    <h1>w3term - Javascript Terminal</h1>
    <p>
    This terminal is intended to support the emulation of an interactive shell
    like many scripting languages or the operating systems themselves provide.
    </p>

    <div id="foo"></div>
    
    <h4>Usage:</h2>
    <ul>
        <li>
            Type <code>help</code> and it will tell you that no help is
            availale.
        </li>
        <li>
            Type <code>clear</code> and it will erase the terminal contents.
        </li>
        <li>
            Type <code>prompt ></code> to change the prompt symbol to
            <code>&gt;</code>
        </li>
    </ul>

    <h3>Features</h3>
    <ul>
        <li>Text input</li>
        <li>Paste text using CTRL+V</li>
        <li>TAB indents 4 spaces</li>
        <li>SHIFT+TAB dedents up to 4 spaces</li>
        <li>HOME / END jump to start / end of line</li>
        <li>Navigation using arrow keys</li>
        <li>
            Quick navigation between words using
            CTRL+LEFT / CTRL+RIGHT
        </li>
        <li>
            Browsing through command history using UP and DOWN keys
        </li>
        <li>Commiting commands using RETURN</li>
        <li>
            Bind a callback function which evaluates the commands and implements
            behavior.
        </li>
        <li>Compatible with non-keyboard devices</li>
    </ul>

    <h3>Requirements</h3>
    <ul>
        <li>Requires JQuery</li>
    </ul>

    <h3>Tested in:</h3>
    <ul>
        <li>Firefox 33.0</li>
        <li>Chromium 37.0</li>
        <li>Chrome 18.0</li>
        <li>Opera 12.16</li>
        <li>Android 4.04 Browser</li>
        <li>Internet Explorer 11.0.14</li>
    </ul>

    <h1>Documentation</h1>
    <h2>Method Summary</h2>
    <ul>
        <li>
            <code>terminal.init(element, options)</code><br/>
            Replaces the given element with a terminal.
            <ul>
                <li>
                    <code>element</code><br/>
                    An element or a selector for the element which should be
                    converted into a terminal.
                </li>
                <li>
                    <code>options</code> [optional]<br/>
                    A Javascript object which defines the behavior of the
                    terminal. Possible values are:
                    <ul>
                        <li>
                            <code>prompt</code>:
                            (string) The prompt symbol
                            <i>(default=<code>"&gt; "</code>)</i>
                        </li>
                        <li>
                            <code>historySize</code>:
                            (int) The number of commands which can be stored
                            within the command history.
                            <i>(default=<code>100</code>)</i>
                        </li>
                        <li>
                            <code>processCommand</code>:
                            (function(cmd, term)) A handler function which
                            receives a command from the terminal and may
                            process them. The second parameter is optional
                            and will receive the terminal object which sent
                            the command.
                            <i>
                                (writes the command to the JS console
                                by default)
                            </i>
                        </li>
                    </ul>
                </li>
            </ul>

        </li>
        <li>
            <code>terminal.setInput(_terminal, text)</code><br/>
            Sets the prompt line of the given terminal to the given text.
            <ul>
                <li>
                    <code>_terminal</code><br/>
                    The terminal element which should be modified
                </li>
                <li>
                    <code>text</code><br/>
                    The text which should be set as current line
                </li>
            </ul>
        </li>
        <li>
            <code>terminal.clear(_terminal)</code><br/>
            Clears the contents of the given terminal.
            <ul>
                <li>
                    <code>_terminal</code><br/>
                    The terminal element which should be modified
                </li>
            </ul>
        </li>
        <li>
            <code>terminal.print(_terminal, text)</code><br/>
            Prints a line of text into the given terminal.
            <ul>
                <li>
                    <code>_terminal</code><br/>
                    The terminal element which should be modified
                </li>
                <li>
                    <code>text</code><br/>
                    The text which should be printed
                </li>
            </ul>
        </li>
        <li>
            <code>terminal.setOptionsDefault(_terminal)</code><br/>
            Sets the terminal options to default.
            <ul>
                <li>
                    <code>_terminal</code><br/>
                    The terminal element which should be modified
                </li>
            </ul>
        </li>
        <li>
            <code>terminal.setOptions(_terminal, options)</code><br/>
            Sets the terminal options to the given options.
            <ul>
                <li>
                    <code>_terminal</code><br/>
                    The terminal element which should be modified
                </li>
                <li>
                    <code>options</code><br/>
                    A Javascript object which defines the behavior of the
                    terminal. Possible values are:
                    <ul>
                        <li>
                            <code>prompt</code>:
                            (string) The prompt symbol
                            <i>(default=<code>"&gt; "</code>)</i>
                        </li>
                        <li>
                            <code>historySize</code>:
                            (int) The number of commands which can be stored
                            within the command history.
                            <i>(default=<code>100</code>)</i>
                        </li>
                        <li>
                            <code>processCommand</code>:
                            (function(cmd, term)) A handler function which
                            receives a command from the terminal and may
                            process them. The second parameter is optional
                            and will receive the terminal object which sent
                            the command.
                            <i>
                                (writes the command to the JS console
                                by default)
                            </i>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
        <!--<li>
            <code>terminal.</code><br/>
        </li>-->
    </ul>
  </body>

  <script type="application/javascript">
    $(document).ready(function(){
            var term = terminal.init('#foo',
            {
                prompt : '$ ',
                historySize : 4,
                processCommand : function(cmd, term){
                    if(cmd == "clear"){
                        terminal.clear(term);
                    }
                    else if(cmd == 'help'){
                        terminal.print(term,
                                       "This terminal does not contain any help files!");
                    }
                    else if(cmd == 'colors'){
                        terminal.print(term,
                       "This terminal supports different colors and font styles\n"
                        +"according to the ANSI escape codes:\n"
                        + " - \x1B[31mred\x1B[0m color\n"
                        + " - \x1B[32mgreen\x1B[0m color\n"
                        + " - \x1B[33myellow\x1B[0m color\n"
                        + " - \x1B[34mblue\x1B[0m color\n"
                        + " - \x1B[35mmagenta\x1B[0m color\n"
                        + " - \x1B[36mcyan\x1B[0m color\n"
                        + " - \x1B[37mwhite\x1B[0m color\n"
                        + " - \x1B[41mred\x1B[0m background\n"
                        + " - \x1B[42mgreen\x1B[0m background\n"
                        + " - \x1B[43myellow\x1B[0m background\n"
                        + " - \x1B[44mblue\x1B[0m background\n"
                        + " - \x1B[45mmagenta\x1B[0m background\n"
                        + " - \x1B[46mcyan\x1B[0m background\n"
                        + " - \x1B[47mwhite\x1B[0m background\n"
                        + " - \x1B[1mbold\x1B[0m font\n"
                        + " - \x1B[3mitalic\x1B[0m font\n"
                        + " - \x1B[4munderlined\x1B[0m font\n"
                        + " - \x1B[5mblinking\x1B[0m font\n"
                        + " - \x1B[7minverted\x1B[0m font\n"
                        + " - \x1B[92msuccess\x1B[0m highlighting\n"
                        + " - \x1B[95mheader\x1B[0m highlighting\n"
                        + " - \x1B[94minfo\x1B[0m highlighting\n"
                        + " - \x1B[93mwarning\x1B[0m highlighting\n"
                        + " - \x1B[91merror\x1B[0m highlighting\n"
                        + "\n"
                        + "And this works also with "
                        + "\x1B[31m\x1B[5m\x1B[4mmultiple styles at once\x1B[0m"
                       );
                    }
//                     else if(cmd == 'cls'){
//                         terminal.setInput(term, "clear");
//                     }
                    else if(cmd.substr(0,6) == 'prompt'){
                        var sym = cmd.split(' ');
                        sym = sym[sym.length-1];
                        terminal.setOptions(term, {prompt : sym});
                    }
                    else {
                        console.log('cmd: "'+cmd+'"');
                    }
                }
            });
        }
    );
  </script>

</html>